!function(t){"use strict";function e(t,e){t=String(t).replace(/[^\dk]+/gi,"");var r=t.substr(-1,1),n=t.substr(0,t.length-1).replace(/\D+/g,"");return e?[n,r]:n+r}function r(t){if(t=e(t),t.length<3)return t;var r=e(t,!0);return r[0]=r[0].replace(/(\d)(?=(\d{3})+\b)/g,"$1."),r.join("-")}function n(t){if(!t||!String(t).length)return!0;var r=e(t,!0),n="k",u=0,i=1;for(isNaN(r[1])&&(r[1]=n);r[0];r[0]=Math.floor(Number(r[0])/10))i=(i+r[0]%10*(9-u++%6))%11;return i?String(i-1)===r[1]:n===r[1]}t.module("ngRut",[]).factory("ngRut",function(){return{validate:n,format:r,clean:e}}).directive("ngRut",["$log",function(t){return{restrict:"A",require:"ngModel",link:function(u,i,a,o){return"INPUT"!==i[0].tagName?void t.error("NG-RUT: This directive must be used on INPUT elements only and element is "+i[0].tagName+"."):o?(o.$formatters.unshift(function(t){return o.$setValidity("rut",n(t)),r(o.$modelValue)}),void o.$parsers.unshift(function(t){return o.$setValidity("rut",n(t)),o.$setViewValue(r(t)),o.$render(),e(t)})):void t.warn("NG-RUT: No ngModel associated to the input element")}}}]).filter("ngRut",function(){return function(t,u){switch(u){case"validate":return n(t);case"clean":return e(t);default:return r(t)}}})}(angular);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5nLXJ1dC5qcyJdLCJuYW1lcyI6WyJhbmd1bGFyIiwiY2xlYW4iLCJ2YWx1ZSIsInBhcnRzIiwiU3RyaW5nIiwicmVwbGFjZSIsInZlcmlmaWVyIiwic3Vic3RyIiwiZGlnaXRzIiwibGVuZ3RoIiwiZm9ybWF0Iiwiam9pbiIsInZhbGlkYXRlIiwiayIsIm0iLCJyIiwiaXNOYU4iLCJNYXRoIiwiZmxvb3IiLCJOdW1iZXIiLCJtb2R1bGUiLCJmYWN0b3J5IiwiZGlyZWN0aXZlIiwiJGxvZyIsInJlc3RyaWN0IiwicmVxdWlyZSIsImxpbmsiLCIkc2NvcGUiLCIkZWxlbWVudCIsIiRhdHRycyIsIm5nTW9kZWwiLCJ0YWdOYW1lIiwiZXJyb3IiLCIkZm9ybWF0dGVycyIsInVuc2hpZnQiLCIkc2V0VmFsaWRpdHkiLCIkbW9kZWxWYWx1ZSIsIiRwYXJzZXJzIiwiJHNldFZpZXdWYWx1ZSIsIiRyZW5kZXIiLCJ3YXJuIiwiZmlsdGVyIiwiYWN0aW9uIl0sIm1hcHBpbmdzIjoiQ0FZQyxTQUFVQSxHQUNULFlBU0EsU0FBU0MsR0FBTUMsRUFBT0MsR0FFcEJELEVBQVFFLE9BQU9GLEdBQU9HLFFBQVEsWUFBYSxHQUczQyxJQUFJQyxHQUFXSixFQUFNSyxPQUFPLEdBQUksR0FHNUJDLEVBQVNOLEVBQU1LLE9BQU8sRUFBR0wsRUFBTU8sT0FBUyxHQUFHSixRQUFRLE9BQVEsR0FHL0QsT0FBSUYsSUFDTUssRUFBUUYsR0FJWEUsRUFBU0YsRUFTbEIsUUFBU0ksR0FBT1IsR0FJZCxHQUhBQSxFQUFRRCxFQUFNQyxHQUdWQSxFQUFNTyxPQUFTLEVBQ2pCLE1BQU9QLEVBR1QsSUFBSUMsR0FBUUYsRUFBTUMsR0FBTyxFQUt6QixPQUZBQyxHQUFNLEdBQUtBLEVBQU0sR0FBR0UsUUFBUSxzQkFBdUIsT0FFNUNGLEVBQU1RLEtBQUssS0FTcEIsUUFBU0MsR0FBU1YsR0FFaEIsSUFBS0EsSUFBVUUsT0FBT0YsR0FBT08sT0FDM0IsT0FBTyxDQUdULElBQUlOLEdBQVFGLEVBQU1DLEdBQU8sR0FDckJXLEVBQUksSUFDSkMsRUFBSSxFQUNKQyxFQUFJLENBUVIsS0FMSUMsTUFBTWIsRUFBTSxNQUNkQSxFQUFNLEdBQUtVLEdBSU5WLEVBQU0sR0FBSUEsRUFBTSxHQUFLYyxLQUFLQyxNQUFNQyxPQUFPaEIsRUFBTSxJQUFNLElBQ3hEWSxHQUFLQSxFQUFJWixFQUFNLEdBQUssSUFBTSxFQUFJVyxJQUFNLElBQU0sRUFJNUMsT0FBSUMsR0FDS1gsT0FBT1csRUFBSSxLQUFPWixFQUFNLEdBSTFCVSxJQUFNVixFQUFNLEdBSXJCSCxFQUFRb0IsT0FBTyxZQUdmQyxRQUFRLFFBQVMsV0FDZixPQUNFVCxTQUFVQSxFQUNWRixPQUFRQSxFQUNSVCxNQUFPQSxLQUtYcUIsVUFBVSxTQUNSLE9BRUEsU0FBVUMsR0FFUixPQUVFQyxTQUFVLElBR1ZDLFFBQVMsVUFFVEMsS0FBTSxTQUFVQyxFQUFRQyxFQUFVQyxFQUFRQyxHQUV4QyxNQUE0QixVQUF4QkYsRUFBUyxHQUFHRyxZQUNkUixHQUFLUyxNQUFNLDZFQUErRUosRUFBUyxHQUFHRyxRQUFVLEtBSzdHRCxHQU1MQSxFQUFRRyxZQUFZQyxRQUFRLFNBQVVoQyxHQUdwQyxNQUZBNEIsR0FBUUssYUFBYSxNQUFPdkIsRUFBU1YsSUFFOUJRLEVBQU9vQixFQUFRTSxtQkFJeEJOLEdBQVFPLFNBQVNILFFBQVEsU0FBVWhDLEdBS2pDLE1BSkE0QixHQUFRSyxhQUFhLE1BQU92QixFQUFTVixJQUNyQzRCLEVBQVFRLGNBQWM1QixFQUFPUixJQUM3QjRCLEVBQVFTLFVBRUR0QyxFQUFNQyxVQWpCYnFCLEdBQUtpQixLQUFLLDJEQTBCcEJDLE9BQU8sUUFBUyxXQUNkLE1BQU8sVUFBVXZDLEVBQU93QyxHQUN0QixPQUFRQSxHQUNOLElBQUssV0FDSCxNQUFPOUIsR0FBU1YsRUFFbEIsS0FBSyxRQUNILE1BQU9ELEdBQU1DLEVBRWYsU0FDRSxNQUFPUSxHQUFPUixRQUt0QkYiLCJmaWxlIjoibmctcnV0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBBbmd1bGFySlMgQ2hpbGVhbiBSVVQgVXRpbGl0aWVzLlxuICpcbiAqIFByb3ZpZGVzIGEgZGlyZWN0aXZlLCBhIHNlcnZpY2UgYW5kIGEgZmlsdGVyIHdpdGggQ2hpbGVhbiBSVVQgY2xlYW5pbmcsIHZhbGlkYXRpb24gYW5kIGZvcm1hdHRpbmcuXG4gKlxuICogQG5hbWUgbmctcnV0XG4gKiBAbW9kdWxlIG5nUnV0XG4gKiBAdHlwZSBBbmd1bGFySlMgTW9kdWxlXG4gKiBAcmVxdWlyZXMgQW5ndWxhckpTIDEuMitcbiAqIEBhdXRob3IgU2FudGlhZ28gRy4gTWFyw61uIDxzYW50aWFnb0BmaW5hbGRldnN0dWRpby5jb20+XG4gKi9cblxuKGZ1bmN0aW9uIChhbmd1bGFyKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICAvKipcbiAgICogQ2xlYW4gYSBzdHJpbmcgb3V0IG9mIGludmFsaWQgUlVUIGNoYXJhY3RlcnMuXG4gICAqXG4gICAqIEBwYXJhbSB7U3RyaW5nfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2xlYW4uXG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gcGFydHMgSWYgdGhlIGZ1bmN0aW9uIHNob3VsZCByZXR1cm4gYW4gYXJyYXkgb2YgcGFydHMgaW5zdGVhZC5cbiAgICogQHJldHVybiB7U3RyaW5nfSBUaGUgY2xlYW5lZCBzdHJpbmcuXG4gICAqL1xuICBmdW5jdGlvbiBjbGVhbih2YWx1ZSwgcGFydHMpIHtcbiAgICAvKiBFbnN1cmUgdmFsdWUgaXMgYSBzdHJpbmcgYW5kIGtlZXAgb25seSBudW1iZXJzIGFuZCAnaycgb3IgJ0snICovXG4gICAgdmFsdWUgPSBTdHJpbmcodmFsdWUpLnJlcGxhY2UoL1teXFxka10rL2dpLCAnJyk7XG5cbiAgICAvKiBPYnRhaW4gdGhlIHZlcmlmaWVyIGRpZ2l0ICovXG4gICAgdmFyIHZlcmlmaWVyID0gdmFsdWUuc3Vic3RyKC0xLCAxKTtcblxuICAgIC8qIE9idGFpbiB0aGUgUlVUIGRpZ2l0cyBhbmQga2VlcCBvbmx5IG51bWJlcnMgKi9cbiAgICB2YXIgZGlnaXRzID0gdmFsdWUuc3Vic3RyKDAsIHZhbHVlLmxlbmd0aCAtIDEpLnJlcGxhY2UoL1xcRCsvZywgJycpO1xuXG4gICAgLyogUmV0dXJuIGFycmF5IG9mIHBhcnRzLi4uICovXG4gICAgaWYgKHBhcnRzKSB7XG4gICAgICByZXR1cm4gW2RpZ2l0cywgdmVyaWZpZXJdO1xuICAgIH1cblxuICAgIC8qIC4uLiBvciByZXR1cm4gYSBzdHJpbmcgKi9cbiAgICByZXR1cm4gZGlnaXRzICsgdmVyaWZpZXI7XG4gIH1cblxuICAvKipcbiAgICogRm9ybWF0cyBhIHN0cmluZyBhcyBhIFJVVCBudW1iZXIuXG4gICAqXG4gICAqIEBwYXJhbSB7U3RyaW5nfSB2YWx1ZSBUaGUgdmFsdWUgdG8gZm9ybWF0LlxuICAgKiBAcmV0dXJuIHtTdHJpbmd9IFRoZSBmb3JtYXR0ZWQgc3RyaW5nLlxuICAgKi9cbiAgZnVuY3Rpb24gZm9ybWF0KHZhbHVlKSB7XG4gICAgdmFsdWUgPSBjbGVhbih2YWx1ZSk7XG5cbiAgICAvKiBDaGVjayBpZiB2YWx1ZSBpcyB0b28gc2hvcnQgdG8gZm9ybWF0ICovXG4gICAgaWYgKHZhbHVlLmxlbmd0aCA8IDMpIHtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG5cbiAgICB2YXIgcGFydHMgPSBjbGVhbih2YWx1ZSwgdHJ1ZSk7XG5cbiAgICAvKiBHcm91cCBkaWdpdHMgd2l0aCBkb3RzICovXG4gICAgcGFydHNbMF0gPSBwYXJ0c1swXS5yZXBsYWNlKC8oXFxkKSg/PShcXGR7M30pK1xcYikvZywgJyQxLicpO1xuXG4gICAgcmV0dXJuIHBhcnRzLmpvaW4oJy0nKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBWYWxpZGF0ZXMgYSBzdHJpbmcgZm9yIGEgdmFsaWQgUlVUIG51bWJlci5cbiAgICpcbiAgICogQHBhcmFtIHtTdHJpbmd9IHZhbHVlIFRoZSBzdHJpbmcgdG8gdmFsaWRhdGUuXG4gICAqIEByZXR1cm4ge0Jvb2xlYW59IElmIHRoZSBzdHJpbmcgaXMgYSB2YWxpZCBSVVQgbnVtYmVyLlxuICAgKi9cbiAgZnVuY3Rpb24gdmFsaWRhdGUodmFsdWUpIHtcbiAgICAvKiBDaGVjayBpZiB0aGVyZSdzIGEgdmFsdWUgdG8gdmFsaWRhdGUgKi9cbiAgICBpZiAoIXZhbHVlIHx8ICFTdHJpbmcodmFsdWUpLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgdmFyIHBhcnRzID0gY2xlYW4odmFsdWUsIHRydWUpO1xuICAgIHZhciBrID0gJ2snO1xuICAgIHZhciBtID0gMDtcbiAgICB2YXIgciA9IDE7XG5cbiAgICAvKiBJZiB0aGUgdmVyaWZpZXIgaXMgbm90IGEgbnVtYmVyIHRoZW4gaXQgbXVzdCBiZSAnaycgKi9cbiAgICBpZiAoaXNOYU4ocGFydHNbMV0pKSB7XG4gICAgICBwYXJ0c1sxXSA9IGs7XG4gICAgfVxuXG4gICAgLyogRG8gdGhlIG1hdGggOikgKi9cbiAgICBmb3IgKDsgcGFydHNbMF07IHBhcnRzWzBdID0gTWF0aC5mbG9vcihOdW1iZXIocGFydHNbMF0pIC8gMTApKSB7XG4gICAgICByID0gKHIgKyBwYXJ0c1swXSAlIDEwICogKDkgLSBtKysgJSA2KSkgJSAxMTtcbiAgICB9XG5cbiAgICAvKiBDaGVjayBpZiB0aGUgUlVUIGlzIHZhbGlkIGFnYWluc3QgdGhlIHJlc3VsdC4uLiAqL1xuICAgIGlmIChyKSB7XG4gICAgICByZXR1cm4gU3RyaW5nKHIgLSAxKSA9PT0gcGFydHNbMV07XG4gICAgfVxuXG4gICAgLyogLi4uIG9yIGFnYWluc3QgJ2snICovXG4gICAgcmV0dXJuIGsgPT09IHBhcnRzWzFdO1xuICB9XG5cbiAgLyogRGVmaW5lIHRoZSBBbmd1bGFyIG1vZHVsZSAqL1xuICBhbmd1bGFyLm1vZHVsZSgnbmdSdXQnLCBbXSkuXG5cbiAgLyogQ3JlYXRlIHRoZSBzZXJ2aWNlICovXG4gIGZhY3RvcnkoJ25nUnV0JywgZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICB2YWxpZGF0ZTogdmFsaWRhdGUsXG4gICAgICBmb3JtYXQ6IGZvcm1hdCxcbiAgICAgIGNsZWFuOiBjbGVhblxuICAgIH07XG4gIH0pLlxuXG4gIC8qIENyZWF0ZSB0aGUgZGlyZWN0aXZlICovXG4gIGRpcmVjdGl2ZSgnbmdSdXQnLCBbXG4gICAgJyRsb2cnLFxuXG4gICAgZnVuY3Rpb24gKCRsb2cpIHtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLyogUmVzdHJpY3QgdG8gYW4gYXR0cmlidXRlIHR5cGUgKi9cbiAgICAgICAgcmVzdHJpY3Q6ICdBJyxcblxuICAgICAgICAvKiBFbGVtZW50IG11c3QgaGF2ZSBuZy1tb2RlbCBhdHRyaWJ1dGUgKi9cbiAgICAgICAgcmVxdWlyZTogJ25nTW9kZWwnLFxuXG4gICAgICAgIGxpbms6IGZ1bmN0aW9uICgkc2NvcGUsICRlbGVtZW50LCAkYXR0cnMsIG5nTW9kZWwpIHtcbiAgICAgICAgICAvKiBDaGVjayBpZiAkZWxlbWVudCBpcyBhbiBpbnB1dCAqL1xuICAgICAgICAgIGlmICgkZWxlbWVudFswXS50YWdOYW1lICE9PSAnSU5QVVQnKSB7XG4gICAgICAgICAgICAkbG9nLmVycm9yKFwiTkctUlVUOiBUaGlzIGRpcmVjdGl2ZSBtdXN0IGJlIHVzZWQgb24gSU5QVVQgZWxlbWVudHMgb25seSBhbmQgZWxlbWVudCBpcyBcIiArICRlbGVtZW50WzBdLnRhZ05hbWUgKyBcIi5cIik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLyogQ2hlY2sgaWYgdGhlICRlbGVtZW50IGhhcyBhbiBhc3NvY2lhdGVkIG1vZGVsICovXG4gICAgICAgICAgaWYgKCFuZ01vZGVsKSB7XG4gICAgICAgICAgICAkbG9nLndhcm4oXCJORy1SVVQ6IE5vIG5nTW9kZWwgYXNzb2NpYXRlZCB0byB0aGUgaW5wdXQgZWxlbWVudFwiKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvKiBNb2RlbCBmb3JtYXR0ZXIgKi9cbiAgICAgICAgICBuZ01vZGVsLiRmb3JtYXR0ZXJzLnVuc2hpZnQoZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBuZ01vZGVsLiRzZXRWYWxpZGl0eSgncnV0JywgdmFsaWRhdGUodmFsdWUpKTtcblxuICAgICAgICAgICAgcmV0dXJuIGZvcm1hdChuZ01vZGVsLiRtb2RlbFZhbHVlKTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIC8qIE1vZGVsIHBhcnNlciAqL1xuICAgICAgICAgIG5nTW9kZWwuJHBhcnNlcnMudW5zaGlmdChmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIG5nTW9kZWwuJHNldFZhbGlkaXR5KCdydXQnLCB2YWxpZGF0ZSh2YWx1ZSkpO1xuICAgICAgICAgICAgbmdNb2RlbC4kc2V0Vmlld1ZhbHVlKGZvcm1hdCh2YWx1ZSkpO1xuICAgICAgICAgICAgbmdNb2RlbC4kcmVuZGVyKCk7XG5cbiAgICAgICAgICAgIHJldHVybiBjbGVhbih2YWx1ZSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICB9XG4gIF0pLlxuXG4gIC8qIENyZWF0ZSB0aGUgZmlsdGVyICovXG4gIGZpbHRlcignbmdSdXQnLCBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICh2YWx1ZSwgYWN0aW9uKSB7XG4gICAgICBzd2l0Y2ggKGFjdGlvbikge1xuICAgICAgICBjYXNlICd2YWxpZGF0ZSc6XG4gICAgICAgICAgcmV0dXJuIHZhbGlkYXRlKHZhbHVlKTtcblxuICAgICAgICBjYXNlICdjbGVhbic6XG4gICAgICAgICAgcmV0dXJuIGNsZWFuKHZhbHVlKTtcblxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJldHVybiBmb3JtYXQodmFsdWUpO1xuICAgICAgfVxuICAgIH07XG4gIH0pO1xuXG59KGFuZ3VsYXIpKTtcbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==